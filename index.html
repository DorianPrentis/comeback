<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Transmission Pending</title>
<style>
body{
  margin:0;
  background:black;
  color:#00ff88;
  font-family:"Courier New", monospace;
  text-align:center;
  overflow-x:hidden;
}
canvas{
  position:fixed;
  top:0;
  left:0;
  z-index:0;
}
.content{
  position:relative;
  z-index:2;
  padding-top:80px;
}
h1{
  font-weight:normal;
  letter-spacing:4px;
  animation:glitch 2s infinite;
}
@keyframes glitch{
  0%{text-shadow:2px 0 red,-2px 0 blue;}
  20%{text-shadow:-2px 0 red,2px 0 blue;}
  40%{text-shadow:2px 2px red,-2px -2px blue;}
  60%{text-shadow:-2px -2px red,2px 2px blue;}
  100%{text-shadow:none;}
}
.address{
  margin:20px;
  opacity:.6;
  word-break:break-all;
}
.progress-container{
  width:60%;
  margin:30px auto;
  background:#111;
  height:6px;
  border-radius:10px;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  width:0%;
  background:#00ff88;
  transition:width 1s ease;
}
.balance{margin-top:20px;}
.usd{opacity:.5;font-size:13px;}
.footer{margin-top:60px;opacity:.4;font-size:12px;}
.qr{margin-top:30px;}
.hidden{
  margin-top:30px;
  opacity:0;
  transition:opacity 1s;
  font-size:13px;
}
.timer{
  margin-top:15px;
  font-size:14px;
  opacity:.7;
}
</style>
</head>
<body>

<canvas id="matrix"></canvas>

<div class="content">
<h1>I WILL RETURN SOON</h1>

<div class="address">bc1q8f52zsffdgkxc2gk3rku2jmjzkkjzq0z8f6tvf</div>

<div class="balance" id="balance">Awaiting signal...</div>
<div class="usd" id="usdValue"></div>

<div class="progress-container">
  <div class="progress-bar" id="progress"></div>
</div>

<div class="timer" id="countdown"></div>

<div class="qr">
  <img id="qrCode" width="140">
</div>

<div class="hidden" id="secret">
  // Access key accepted. The future belongs to those who wait.
</div>

<div class="footer">
  Transmission in progress...
</div>
</div>

<script>
const address="bc1q8f52zsffdgkxc2gk3rku2jmjzkkjzq0z8f6tvf";
const goal=33;
let lastBalance=0;

/* MATRIX EFFECT */
const canvas=document.getElementById("matrix");
const ctx=canvas.getContext("2d");
canvas.height=window.innerHeight;
canvas.width=window.innerWidth;
const letters="01";
const fontSize=14;
const columns=canvas.width/fontSize;
const drops=[];
for(let x=0;x<columns;x++) drops[x]=1;
function draw(){
  ctx.fillStyle="rgba(0,0,0,0.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#00ff88";
  ctx.font=fontSize+"px monospace";
  for(let i=0;i<drops.length;i++){
    const text=letters.charAt(Math.floor(Math.random()*letters.length));
    ctx.fillText(text,i*fontSize,drops[i]*fontSize);
    if(drops[i]*fontSize>canvas.height&&Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
}
setInterval(draw,33);

/* COUNTDOWN (30 days from now) */
const countdown=document.getElementById("countdown");
const target=new Date();
target.setDate(target.getDate()+30);
function updateCountdown(){
  const now=new Date().getTime();
  const distance=target-now;
  const days=Math.floor(distance/(1000*60*60*24));
  const hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60));
  countdown.innerText="Return in: "+days+"d "+hours+"h";
}
setInterval(updateCountdown,60000);
updateCountdown();

/* BTC */
async function getBTCPrice(){
  const r=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd");
  const d=await r.json();
  return d.bitcoin.usd;
}

async function getBalance(){
  try{
    const r=await fetch(`https://blockstream.info/api/address/${address}`);
    const d=await r.json();
    const balance=(d.chain_stats.funded_txo_sum-d.chain_stats.spent_txo_sum)/100000000;

    document.getElementById("balance").innerText=
      balance.toFixed(6)+" BTC received";

    let percent=(balance/goal)*100;
    if(percent>100)percent=100;
    document.getElementById("progress").style.width=percent+"%";

    const price=await getBTCPrice();
    document.getElementById("usdValue").innerText=
      "â‰ˆ $"+(balance*price).toLocaleString(undefined,{maximumFractionDigits:0});

    if(balance>lastBalance){
      document.body.style.background="#001a0f";
      setTimeout(()=>document.body.style.
